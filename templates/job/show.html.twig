{% extends "base.html.twig" %}

{% block title %}{{ job.title }}{% endblock %}

{% block body %}

<section class="text-slate-700 body-font bg-white">
  <div class="container mx-auto px-5 py-10 flex flex-wrap lg:flex-nowrap"> 
  <aside class="bg-light p-3 border-end mb-4 lg:w-1/4 w-full">
    <form method="get" action="{{ path('app_job_search') }}" class="bg-white p-3 border rounded">
        <h2>Search Jobs</h2>

        <input type="text" name="search" placeholder="Search jobs" value="{{ app.request.get('search') }}" class="border p-2 rounded w-full mb-4" />
        <input type="number" name="minimum_salary" placeholder="Minimum Salary" value="{{ app.request.get('minimum_salary') }}" class="border p-2 rounded w-full mb-4" />
        <input type="number" name="maximum_salary" placeholder="Maximum Salary" value="{{ app.request.get('maximum_salary') }}" class="border p-2 rounded w-full mb-4" />
        <input type="text" name="country" placeholder="Country" value="{{ app.request.get('country') }}" class="border p-2 rounded w-full mb-4" />
        <input type="text" name="city" placeholder="City" value="{{ app.request.get('city') }}" class="border p-2 rounded w-full mb-4" />
        <select name="category" class="border p-2 rounded w-full mb-4">
            <option value="">All Categories</option>
            {% for category in categories %}
                <option value="{{ category.id }}" {% if app.request.get('category') == category.id %}selected{% endif %}>
                    {{ category.type }}
                </option>
            {% endfor %}
        </select>
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Search</button>
    </form>
  </aside>
  <div class="lg:w-3/4 w-full lg:pl-10">
      <div class="container px-5 py-24 mx-auto">
        <div class="flex flex-col flex-wrap lg:py-6 -mb-10 w-full max-w-3xl text-justify">
          <div class="flex flex-col mb-10 lg:items-start items-center">
            <div class="w-12 h-12 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 mb-5">
              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                   stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
              </svg>
            </div>

            <div class="w-full sm:p-4 px-4 mb-6">
              <h1 class="title-font font-medium text-3xl mb-2 text-slate-700">
                {{ job.title }}
              </h1>

              <div class="p-4 sm:w-1/2 lg:w-1/4 w-1/2">
                <h4 class="title-font font-medium text-xl text-slate-700">
                  {{ job.company.name }}
                </h4>
                <p class="leading-relaxed">Company Name</p>
              </div>

              <div class="p-4 sm:w-1/2 lg:w-1/4 w-1/2">
                <h4 class="title-font font-medium text-xl text-slate-700">
                  {{ job.postDate|date('Y') }}
                </h4>
                <p class="leading-relaxed">Post Date</p>
              </div>

              <div class="p-4 sm:w-1/2 lg:w-1/4 w-1/2">
                <h4 class="title-font font-medium text-xl text-slate-700">
                  {% for category in job.category %}
                    <a class="bg-gray-700 text-blue-500 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm 
                              dark:bg-blue-900 dark:text-blue-300 hover:bg-blue-500 hover:text-white"
                       href="{{ path('app_category_show', {'id': category.id}) }}">
                      {{ category.type }}
                    </a>
                  {% endfor %}
                </h4>
                <p class="leading-relaxed">Job Category</p>
              </div>

              <div class="p-4 sm:w-1/2 lg:w-1/4 w-1/2">
                <h4 class="title-font font-medium text-xl text-slate-700">
                  {{ job.salaryrange }}
                </h4>
                <p class="leading-relaxed">Salary Range</p>
              </div>

              <div class="leading-relaxed mt-4">
                <p class="text-base leading-relaxed">{{ descriptionHtml|raw }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> 
</section>

{% endblock %}